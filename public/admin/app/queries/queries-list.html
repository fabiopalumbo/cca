<div class="page-heading">
  <div class="container-fluid">
    <div class="col-md-6">
      <h2>Consultas</h2>
    </div>
    <div class="col-md-6 text-right pull-right">
      <a data-ng-click="getQueries()" class="btn btn-social btn-facebook-alt" type="button"><span></span><i class="fa fa-fw fa-refresh"></i> Actualizar Consultas</a>
    </div>
  </div>
</div>

<div id="queries-spinner" class="container-fluid spinner"></div>

<div data-ng-show="queries" style="margin-top: -50px">
  <div class="container-fluid">

    <div id="queries-table-spinner" class="container-fluid spinner"></div>

    <div data-ng-show="!loading" style="margin-top: -50px">
      <h4>Tabla de Resultados</h4>

      <div class="table-responsive" data-ng-show="queries.length == 0">
        <pre>No se encontraron resultados.</pre>
      </div>

      <div class="table-responsive" data-ng-show="queries.length > 0">
        <table data-ng-table="tableParams" class="table table-striped table-bordered">
          <thead>
          <tr>
            <th class="sortable" data-property="vehicle">Vehículo</th>
            <th class="sortable" data-property="platform">API</th>
            <th class="sortable" data-property="email">Contacto</th>
            <th class="sortable" data-property="date">Fecha</th>
            <th class="sortable" data-property="buttons"></th>
          </tr>
          </thead>
          <tbody>
          <tr data-ng-repeat="obj in queries">
            <td data-title="'Vehículo'" sortable="vehicle">
              {{obj.vehicle}}
            </td>
            <td data-title="'API'" sortable="platform">
              {{obj.platform}}
            </td>
            <td data-title="'Contacto'" sortable="email">
              {{obj.email}}
            </td>
            <td data-title="'Fecha'" sortable="date">
              {{obj.date}}
            </td>
            <td data-title="''" class="text-center" style="width: 80px">
              <div class="buttons">
                <button  class="btn btn-sm btn-midnightblue-alt" data-ng-click="answerQuery(obj.id,true)" data-tooltip="Detalles" data-ng-show="loggedUser.permission['Consultas'].read == '1' && loggedUser.permission['Consultas'].update != '1'"><i class="fa fa-list"></i></button>
                <button  class="btn btn-sm btn-midnightblue-alt" data-ng-click="answerQuery(obj.id)" data-tooltip="Responder" data-ng-show="loggedUser.permission['Consultas'].update == '1'"><i class="fa fa-pencil"></i></button>
              </div>
            </td>

          </tr>
          </tbody>
        </table>
        <hr>
      </div>
    </div>
  </div>
</div>