<div class="page-heading">
  <div class="container-fluid">
    <div class="col-md-6">
      <h2>Perfiles</h2>

    </div>
    <div class="col-md-6 text-right pull-right">
      <a data-ng-if="loggedUser.permission['Perfiles'].create == '1'" data-ng-click="openEditProfile()" class="btn btn-social btn-facebook-alt" type="button"><span></span><i class="fa fa-fw fa-plus"></i> Agregar Perfil</a>
    </div>
  </div>
</div>

<div id="profiles-spinner" class="container-fluid spinner"></div>

<div data-ng-show="profiles" style="margin-top: -50px">
  <div class="container-fluid">

    <div id="profiles-table-spinner" class="container-fluid spinner"></div>

    <div data-ng-show="!loading" style="margin-top: -50px">
      <h4>Tabla de Resultados</h4>

      <div class="table-responsive" data-ng-show="profiles.length == 0">
        <pre>No se encontraron resultados.</pre>
      </div>

      <div class="table-responsive" data-ng-show="profiles.length > 0">
        <table data-ng-table="tableParams" class="table table-striped table-bordered">
          <thead>
          <tr>
            <th class="sortable" data-property="admin">Admin</th>
            <th class="sortable" data-property="name">Nombre</th>
            <th class="sortable" data-property="description">Descripción</th>
            <th class="sortable" data-property="buttons"></th>
          </tr>
          </thead>
          <tbody>
          <tr data-ng-repeat="obj in profiles">
            <td data-title="'Admin'" sortable="admin">
              {{obj.admin ? 'Sí' : 'No'}}
            </td>
            <td data-title="'Nombre'" sortable="name">
              {{obj.name}}
            </td>
            <td data-title="'Descripción'" sortable="description">
              {{obj.description}}
            </td>

            <td data-title="''" class="text-center" style="width: 80px">
              <div class="buttons">
                <button data-ng-if="loggedUser.permission['Perfiles'].read == '1' && loggedUser.permission['Perfiles'].update != '1'" class="btn btn-sm btn-midnightblue-alt" data-ng-click="openEditProfile(obj.id,true)" data-tooltip="Detalles"><i class="fa fa-list"></i></button>
                <button data-ng-if="loggedUser.permission['Perfiles'].update == '1'" class="btn btn-sm btn-midnightblue-alt" data-ng-click="openEditProfile(obj.id)" data-tooltip="Editar"><i class="fa fa-pencil"></i></button>
                <button data-ng-if="loggedUser.permission['Perfiles'].delete == '1'" class="btn btn-sm btn-danger-alt" confirm-button="remove(obj.id)" data-tooltip="Eliminar"><i class="fa fa-trash-o"></i></button>
              </div>
            </td>

          </tr>
          </tbody>
        </table>
        <hr>
      </div>
    </div>
  </div>
</div>